{% extends "admin_dashboard/_base.html" %}
{% load static %}
{% load humanize %}

{% block title %}Admin Dashboard | Order Detail{% endblock %}

{% block customCssFiles %}
<link rel="stylesheet" href="{% static 'css/checkout.css' %}">
{% endblock customCssFiles %}  

{% block notification %}
{% for notification in notifications %}
<a class="dropdown-item d-flex align-items-center" href="#">
	{% if notification.notification_type == "REPORTS" %}
	<div class="mr-3">
		<div class="icon-circle bg-primary">
			<i class="fas fa-file-alt text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% elif notification.notification_type == "FINANCE" %}
	<div class="mr-3">
		<div class="icon-circle bg-success">
			<i class="fas fa-donate text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% elif notification.notification_type == "ALERT" %}
	<div class="mr-3">
		<div class="icon-circle bg-warning">
			<i class="fas fa-exclamation-triangle text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% elif notification.notification_type == "REGISTRATION" %}
	<div class="mr-3">
		<div class="icon-circle custom-background">
			<i class="fas fa-user text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% elif notification.notification_type == "ORDER" %}
	<div class="mr-3">
		<div class="icon-circle bg-info">
			<i class="fas fa-shopping-cart text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% elif notification.notification_type == "ACTIVITY" %}
	<div class="mr-3">
		<div class="icon-circle bg-info">
			<i class="fas fa-bell text-white"></i>
		</div>
	</div>
	<div>
		<div class="small text-gray-500">{{ notification.formatted_datetime }}</div>
		<span class="font-weight-bold">{{ notification.title }}</span>
	</div>
	{% endif %}
</a>
{% endfor %}
{% endblock notification %}

{% block content %}
<!-- Container Fluid-->
<div class="container-fluid" id="container-wrapper">
    <div class="d-sm-flex align-items-center justify-content-between mb-2">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{% url 'my_admin:dashboard' %}">Home</a></li>
            <li class="breadcrumb-item">Orders</li>
            <li class="breadcrumb-item active" aria-current="page">Order Details</li>
        </ol>
    </div>

    <!--================Order Details Area =================-->
	<section class="product spad order_details section_gap">
		<div class="container">
			<div class="row order_d_inner">
				<div class="col-lg-6">
					<div class="details_item">
						<p style="font-size: 1.1rem;">Order Info</p>
						<ul class="list">
							<li><a href="#"><span>Order number</span> : {{ order.order_number }}</a></li>
							<li><a href="#"><span>Date</span> : {{ order.created_at }}</a></li>
							<li><a href="#"><span>Total</span> : &#8358; {{ order.total_price|intcomma }}</a></li>
							<li><a href="#"><span>Payment method</span> : Card</a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="details_item">
						<p style="font-size: 1.1rem;">Billing Address</p>
						<ul class="list">
							<li><a href="#"><span>Address</span> : {{ order.shipping_address.address }}</a></li>
							<li><a href="#"><span>City</span> : {{ order.shipping_address.city }}</li>
							<li><a href="#"><span>State</span> : {{ order.shipping_address.state }}</li>
							<li><a href="#"><span>Country</span> : {{ order.shipping_address.country }}</a></li>
							<li><a href="#"><span>Postcode </span> : {{ order.shipping_address.zipcode }}</a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-12">
					<div class="details_item">
						<p style="font-size: 1.1rem;">Shipping Address</p>
						<ul class="list">
							<li><a href="#"><span>Address</span> : {{ order.shipping_address.address }}</a></li>
							<li><a href="#"><span>City</span> : {{ order.shipping_address.city }}</li>
							<li><a href="#"><span>State</span> : {{ order.shipping_address.state }}</li>
							<li><a href="#"><span>Country</span> : {{ order.shipping_address.country }}</a></li>
							<li><a href="#"><span>Postcode </span> : {{ order.shipping_address.zipcode }}</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="order_details_table">
				<h2>Order Details</h2>
				<div class="table-responsive">
					<table class="table" style="color: white !important;">
						<thead>
							<tr>
								<th scope="col">Product Details</th>
								<th scope="col">Quantity</th>
								<th scope="col">Total</th>
							</tr>
						</thead>
						<tbody>
                            {% for order_item in order_items %}
                            <tr>    
                                <td>{{ order_item.product.name }}, Color: {{ order_item.color }}, Size: {{ order_item.size }}</td>
                                <td>x {{ order_item.quantity }}</td>
                                <td><span>&#8358; {{ order_item.subtotal|intcomma }}</span></td>
                            </tr>
                            {% endfor %}
                            <tr>
                                <td>SUBTOTAL</td>
                                <td><h5></h5></td>
                                <td><span>&#8358; {{ shipping_fee|floatformat:2|intcomma }}</span></td>
                            </tr>
                            <tr>
                                <td>SHIPPING</td>
                                <td><h5></h5></td>
                                <td><span>&#8358; {{ total_amount|floatformat:2|intcomma }}</span></td>
                            </tr>
                            <tr>
                                <td>TOTAL</td>
                                <td><h5></h5></td>
                                <td><span>&#8358; {{ total_amount_shipping|floatformat:2|intcomma }}</span></td>
                            </tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</section>
	<!--================End Order Details Area =================-->
</div>
<!---Container Fluid-->
{% endblock %}